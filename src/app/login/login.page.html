<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="back()">
        <ion-icon slot="icon-only" name="home"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title *ngIf="!register">Login</ion-title>
    <ion-title *ngIf="register">Register</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div id="login-logo">
    <img src="../../assets/logo.svg" alt="Lottery Master Logo">
  </div>
  <form *ngIf="!register" (ngSubmit)="authUser()">
    <ion-item lines="none">
      <ion-label>E-mail:</ion-label>
      <ion-input [(ngModel)]="loginForm.email" name="email" type="email"></ion-input>
    </ion-item>
    <ion-item lines="none">
      <ion-label>Password:</ion-label>
      <ion-input [(ngModel)]="loginForm.password" name="password" type="password" (keyup.enter)="authUser()">
      </ion-input>
    </ion-item>
    <p *ngIf="error != null" style="color: red; text-align:center; width:100%">{{error}}</p>
    <ion-button type="submit" expand="block" color="primary">Login</ion-button>

    <p text-center><br>Don't have an account?</p>
    <ion-button expand="block" color="danger" (click)="register = true; error = null;">Register</ion-button>
  </form>

  <form *ngIf="register" (ngSubmit)="registerUser()">
    <ion-item lines="none">
      <ion-label>E-mail:</ion-label>
      <ion-input type="text" [(ngModel)]="registerForm.email" name="email" required></ion-input>
    </ion-item>
    <ion-item lines="none">
      <ion-label>Password:</ion-label>
      <ion-input [(ngModel)]="registerForm.password" name="password" type="password" required></ion-input>
    </ion-item>
    <ion-item lines="none">
      <ion-label>Repeat password:</ion-label>
      <ion-input [(ngModel)]="registerForm.repeatPassword" name="repeatPassword" type="password" required></ion-input>
    </ion-item>
    <p *ngIf="error != null" style="color: red; text-align:center; width:100%">{{error}}</p>
    <ion-button type="submit" expand="block" color="primary" block>Register</ion-button>

    <p text-center><br>Already have an account?</p>
    <ion-button expand="block" color="danger" (click)="register = false">Login</ion-button>
  </form>
</ion-content>